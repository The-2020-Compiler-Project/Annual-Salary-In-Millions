# day9

  今天主要还是编写目标代码的生成，完成条件语句目标代码，循环语句的目标代码生成的生成，基本实现目标语言生成部分。

## 1.条件语句目标代码

①生成 E 的目标代码； 

②遇到四元式(if, res(E),_,_) 生成目标代码 FJMP R,? 

③生成 gt(S1)目标代码，记录 S1最后一条目标代码位置 P

 ④遇到四元式 (el _, _, _)生成目标代码,生成目标代码 JMP _,? 并弹栈取得 FJMP R,?所在地址 P'，进行地址回填，填入地址为 ； 即 JMP _,?的下一条语句，之后压栈记录当前位置 P'； 

⑤生成 gt(S2)目标代码，记录 S 2最后一条目标代码位置 P；

 ⑥遇到四元式 (ie, _, _, _),弹栈取得 JMP _,?所在地址 P'，进行地址回 填，填入地址为；即 S 2生成的目标代码的下一条语句；

## 2.循环语句的目标代码

①遇到四元式 (wh, _, _, _) 压栈记录下一条目标代码位置 P 1； 

②生成 E 的目标代码； 

③遇到四元式 (do, res(E), _, _) 生成目标代码 FJMP R,? 并压栈记录当前位置 P'；

 ④生成 gt(S)目标代码； 

⑤遇到四元式 (we, _, _, _)生成目标代码,生成目标代码 JMP _,? 并弹栈取得 FJMP R,?所在地址 P'，进行地址回填，填入地址为 ； 即 JMP _,?的下一条语句；

 ⑥弹栈取得 while 基本块内第一条目标代码所在地址，进行地址回填， JMP _,?填入该地址；